<!DOCTYPE html >

<html style="height:100%;">
<head>
<!-- 
5-8-2010 ADD credit info
11-8-10 ADD body css overflow hidden hides scroll bar on IE
-->
<meta http-equiv="imagetoolbar" content="no">
<meta name="viewport" content="initial-scale=1.0, width=device-width" />
<title>CASK Virtual Microscopy Viewer</title>


<!-- STYLES /////////////////////////////-->
<link rel="stylesheet" href="../css/common.css" type="text/css" />


<!-- NOTE Styles are included here instead of in a separate css, as this appears to work slightly faster during slide viewing, panning, zooming etc., gives a more immediate response experience-->
<style>
body {
	margin:0px;width:100%;height:100%;overflow:hidden;
	font-family:Arial, Helvetica, sans-serif;
}

/*The large moving containers for the image tiles, labels*/
div#outerDiv0 {position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;}
	div#outerDiv {position:absolute;width:100%;height:100%;border:1px solid black;overflow:hidden;}
		div#nav {display:none;position:absolute;top:70px;left:20px;z-index:1}
		div#divNext {position:absolute;top:0px;left:79px;}
		div#wheelMode {display:none;position:absolute;left:10px;top:260px;overflow:hidden;font-size:11px;font-family:sans-serif;}
		div#innerDiv {position:absolute;top:0px;left:0px;z-index:0;}
		/*div#imageTiles styling is in the element itself*/
		div#bgDiv {position:absolute;left:0px;top:0px;background-color:#c0c0c0;} /*bgDiv= grey background*/
		/*seems not neccessary?div#imagelabels {position:relative;top:0;left:0;z-index:1;width:900000px;height:900000px;}*/
		div#newLabels {position:absolute;top:0px;left:0px;width:0px;height:0px;overflow:visible;} /*to let it not overlap outerdiv that senses the events, but still keep the newLabels visible*/

/*thumbImageHolder control*/
div#controlsContainer {position:absolute;right:10px;top:25px;width:200px;height:200px;z-index:1;} /*positions the container with all the controls*/
	div#thumbContainer {display:block;position:absolute;left:0px;right:0px;top:0px;text-align:center;width:200px;height:200px;overflow:hidden;} /*holds the thumb stuff*/
		div#thumbImageHolder {display:none;position:absolute;right:0px;top:0px;width:200px;height:200px;border:1px solid blue;overflow:hidden;} /*holds the thumb image*/
		div#viewIndicator {display:none;position:absolute;border:1px solid #29ffde;overflow:hidden;} /*cyan box that indicates which part of the image is visible in the viewport now*/ /*cyan: #29ffde*/
		div#viewIndicatorSenser {display:none;position:absolute;} /*senser over the viewIndicator for catching events on IE, because IE doesn't sense events on transparent/empty elements, see IE conditional comments*/
	div#zoomButtonsContainer {position:absolute;right:0px;width:80px;height:30px;} 
		#zoomin {position:absolute;left:0px;top:0px;cursor:pointer;}
		#zoomout {position:absolute;left:40px;top:0px;cursor:pointer;}
	div#tips {display:none;position:absolute;right:0px;bottom:-50px;width:200px;height:50px;padding:3px;z-index:100;color:#000;font-size:12px;font-family:sans-serif;border:solid black 1px;background-color:#ffffef}

/*length bar*/
div#barCont {position:absolute;left:0px;top:25px;width:200px;height:20px; z-index:100;}
.bar {position:absolute;top:0px;background-color:blue;}
.verticalLine {width:2px;height:12px;}
.horizontalLine {top:5px;height:2px;}
#theScale1 {position:absolute;left:0px;top:22px;width:100%;text-align:center;font-weight:bold;font-size:0.9em;font-family:Arial, sans-serif;color:blue;}
#theScale2 {position:absolute;left:1px;top:23px;width:100%;text-align:center;font-weight:bold;font-size:0.9em;font-family:Arial, sans-serif;color:white;}

div#credit {position:absolute;bottom:10px;left:10px;z-index:1;font-family:sans-serif;color:blue;font-size:80%}

/*little panel at top of page showing name of slide*/
div#centeringContainer {position:absolute;width:100%;text-align:center;z-index:10;} /*text-align-center in outer container and inner container: inline-block is workaround for css missing 'center', pos:abs to let it be in front of slide, width:100% to get the centering working again*/
div#namePanel{
	display:inline-block;top:0px;min-width:100px;height:15px;margin:auto;padding:3px 15px;z-index:10;
	border: solid #808080 2px; background-color:#FFFFFF;
	-webkit-border-bottom-right-radius:5px 8px;-moz-border-radius-bottomright:5px 8px;border-bottom-right-radius:5px 8px;
	-webkit-border-bottom-left-radius:5px 8px;-moz-border-radius-bottomleft:5px 8px;border-bottom-left-radius:5px 8px;
	text-align:center;font-family:Arial,Helvetica,sans-serif;font-size:0.8em;color:#808080
	}

/* optional little panel at top of page showing live cursor position*/	
div#coordsPane{
	display:inline-block;top:1px;width:200px;height:25px;
	margin:auto;padding:3px;z-index:10;
	border: solid black 2px; background-color:#FFFFFF;
	text-align:center;}

/* labels */
.label {
	font-family:Arial,sans-serif;font-weight:bold;
	color:black;text-shadow: 1px 1px 0px #ffffff;
	font-size:80%;
	max-width:100px;
	cursor:pointer;
	text-align:left; vertical-align:top;
	padding: 0px;
}
/* class .tooltip : see common.css*/
/* new labels - inserted dynamically in GUI function to make labels*/
.newLabelContainer
{
	position:absolute;
	z-index:10;background-color:transparent;border:none;
	background-color:transparent;
	background-image:url('../img/transp.png'); /*IE workaround otherwise won't sense input on the transparent*/
	cursor:move;
}
.newLabelCrosshair
{
	position:absolute;
	z-index:0;
	/*left: -8px;	top: 0px; initial line-height=16px, crosshair=16px, each half-way,therafter dynamically set*/
}
.newLabelTextArea {
	width:100px;height:20px;
	padding:0px;margin:0px;
	position:relative; /*to let the z-index work*/
	z-index:10;
	border:1px solid gray;
	cursor:move;
	vertical-align: top; /*for auto-resize*/
	-webkit-transition: height 0.2s; /*for auto-resize*/
	-moz-transition: height 0.2s; /*for auto-resize*/
	transition: height 0.2s; /*for auto-resize*/
	background-color:transparent;
	background-image:url('../img/transp.png'); /*IE workaround */
}
.newLabelTooltip
{
	width:100px;
	cursor:move;
}
.newLabelArw
{
	float:right;
	cursor: pointer;	
}

/*screensizeindicators (displayed when requesting a direct URL)*/
div#sizeIndicators {display:none;}
.sizeLabel {position:absolute; top:-20px; right:10px;font-family:Arial, Helvetica, sans-serif;font-size:0.9em; color:#808080}
.sizeIndicator {position:absolute;border: 2px solid #c0c0c0;}
div#hor800x600 {width:560px;height:496px;}
div#hor1024x768 {width:784px;height:656px;}

/*mobile*/
.arw {position:absolute;left:0px;top:0px;width:45px;height:40px;}
.arwCont{position:absolute;width:45px;height:40px;z-index:100;cursor:pointer;}
#btUpCont {display:none;position:absolute;left:100px;top:0px;}
#btDownCont {display:none;position:absolute;left:100px;bottom:0px;}
#btLeftCont {display:none;position:absolute;left:0px;top:100px;}
#btRightCont {display:none;position:absolute;right:0px;top:100px;}
#iconMobileCont  {position:absolute;right:7px;bottom:7px;width:26px;height:36px;cursor:pointer;z-index:100;}
.iconMobile  {position:absolute;left:0px;top:0px;width:26px;height:36px;cursor:pointer;z-index:100;}
#mobileHint  {position:absolute;left:-180px;top:5px;width:165px;height:15px;padding:5px;z-index:100;color:#000;font-size:12px;font-family:sans-serif;border:solid black 1px;background-color:#ffffef;}

/* general styles */
.hastooltip {cursor: help;}
span.deemphasize {font-size: 80%; color:#a1a1a1}

/* system stuff */
/* The data loading iFrame */
#dataLoaderFrame {width:1px; height:1px;}
#hiddenLabel {visibility: hidden;}

/*debug*/
#test {display:none;position:absolute;right:50px;bottom:0px;width:50px;height:50px;background-color:#fbfbfb;;z-index:1000;}
div#log {display:block;position:absolute;top:210px;left:10px;width:300px;height:440px;padding:1px;background:white;border:solid 1px black;z-index:101;font-family:sans-serif;color:blue;font-size:70%;overflow:auto;}
div#warning {display:none;font-size:200%;font-weight:bold;color:red;text-align:center;padding:30px;border: red 5px solid;margin:auto;}
div#signal {position:absolute;right:1px;top:0px;font-size:10px;color:#c0c0c0;}
span#signalI {display:none;}
span#signalj {display:none;}
div#activate
{
	position:absolute;
	left:225px;
	top:125px;
	width:50px;
	height:50px;
	background:red;
	z-index:100;
}
div#position
{
	position:absolute;
	left:200px;
	top:100px;
	width:50px;
	height:50px;
	background:green;
	z-index:100;
}
</style>

<!--[if IE]>
<style type="text/css">
div#viewIndicatorSenser {background-color:green;filter:alpha(opacity=1)} /*IE workaround to sense event on "viewIndicator"*/
</style>
<![endif]-->

<!--[if lte IE 7]>
<style type="text/css">
div#namePanel{width:500px;} /*no min-width*/
</style>
<![endif]-->

<!--[if IE 9]>
<style type="text/css">
/*textarea {font-size:300%;}*/ /*Forget it.. IE9 workaround for strange clipping of the text area at zoom. So far the only way I found is to set it hard, not dynamically*/
/*bug described here: http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/45c7f82c-7b2b-47b3-be78-fd745626befb/ */
</style>
<![endif]-->




<!-- SCRIPTS & SLIDES DATA /////////////////////////////-->

<!-- libs -->
<script type="text/javascript" src="../scripts/libs/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="../scripts/libs/jquery_noconflict.js"></script>
<script type="text/javascript" src="../scripts/libs/jquery-ui-1.10.1.custom.min.js"></script>
<script type="text/javascript" src="../scripts/libs/jquery.autosize.js"></script>


<!-- pm: "http://code.jquery.com/jquery-latest.js" -->

<!--  Viewer engine -->
<script src="../scripts/common.js" type="text/javascript" ></script>
<script src="../scripts/ajax-tiledviewer.js" type="text/javascript"></script>

<!-- slides info -->
<script src="../slides/slides.js" type="text/javascript"></script>

</head>
 
 
 
 
<!-- HTML //////////////////////////////////////////-->
    
<body onload="init()">

<div id="test" onclick="testMobile()"></div>
<div id="log"></div>
<div id="warning"></div>
<div id="signal"><span id="signalI">I</span><span id="signalj">j</span></div>

<div id="position" onclick="placeTestLabel()" >PLACE</div>

<div id="activate" onclick="testLabels()" >CLICK</div>

<div id="barCont">
<!-- Old bar images, keep a moment, might be necessary for old IE fallback that sometimes breaks the div version
	<img id="bar_left" src="../img/bar_vert.gif" class="bar" />
	<img id="bar_right" src="../img/bar_vert.gif" class="bar" />
	<img id="bar_mid" src="../img/bar_mid.gif" class="bar" /> -->

	<div id="bar_left"  class="bar verticalLine" ></div>
	<div id="bar_mid" class="bar horizontalLine"></div>
	<div id="bar_right" class="bar verticalLine"></div>

	<div id="theScale2"></div><div id="theScale1"></div> 
</div> 
	
<div id="outerDiv0">
	<div id="outerDiv">
	
		<!--  for stacks of images ->
		<!-- 
			<div id="Nav">
			<div><a href="javascript:slidePrev();" id="slidePrev"><img src="../img/prev.gif" border="0"/></a></div>
			<div id="divNext"><a href="javascript:slideNext();" id="slideNext"><img src="../img/next.gif" border="0"/></a></div>
		</div>
		-->
		<div id="wheelMode"><b>Mouse Wheel:</b><br><input type="radio" checked  onClick="wheelMode1()">&nbsp;Zoom<br><input type="radio" onClick="wheelMode2()" >&nbsp;Next/Prev</div>
		
		<div id="innerDiv">
			<noscript><big><b><br><br><br><br><br><br><br><br><br><blockquote>JavaScript must be enabled in order for you to use the BrainMaps-CASK Viewer.</b>  However, it seems JavaScript is either disabled or not supported by your browser. To view this page, enable JavaScript by changing your browser options, and then try again.</big></noscript>
			<div id="bgDiv"></div>
			<div id="imageTiles" style="position:relative;top:0;left:0;z-index:0;width:100%;"></div>
			<div id="imageLabels" ></div>
		</div>

		<div id="credit" >
		<a href="http://brainmaps.org/index.php?p=brain-maps-api" target="_blank">BrainMaps</a>-<a href="http://www.caskanatomy.info/developer/brainmaps-cask-api" target="_blank">CASK</a> Viewer
		</div> <!--eof credit -->
		
		<div id="sizeIndicators">
		<div id="hor1024x768" class="sizeIndicator"><div class="sizeLabel">Small screen, Low-mid range Tablet (1024x768px)</div></div>	
		<div id="hor800x600" class="sizeIndicator"><div class="sizeLabel">Netbook (800x600px)</div></div>
		</div>
		
	</div> <!--eof outerdiv -->	
	<div id="newLabels" ></div>
<br>
</div> <!--eof outerdiv0 -->
		

<div id="centeringContainer">
	<!-- to display name of slide -->
	<div id="namePanel"></div>
	<!-- to display mouseover coordinates-->		
	<div id="coordsPane"></div>
</div>
		

<div id="controlsContainer">
	<div id="thumbContainer">
		<div id="thumbImageHolder"></div>
		<div id="viewIndicator"></div>
		<div id="viewIndicatorSenser"></div>			  	  
	</div><!-- eof thumbContainer -->
		
	<div id="zoomButtonsContainer">
		<img id="zoomin" src="../img/zoomin.png" onclick="btZoomIn()" onmouseover="showZoomInTips()" onmouseout="hideTips()"/>  
		<img id="zoomout" src="../img/zoomout.png" onclick="btZoomOut()"  onmouseover="showZoomOutTips()" onmouseout="hideTips()"/>
	</div> 
	
	<div id="tips"></div>
</div><!--eof controlsContainer -->


<div id="btUpCont" class="arwCont">
	<img id="up2" class="arw" src="../img/up2.gif">
	<img id="up1" class="arw" src="../img/up1.gif">
	<img id="upSens" class="arw" src="../img/emptyimage.gif"  onclick="clickArw('up')" alt="Pan up">
</div>

<div id="btLeftCont" class="arwCont">
	<img id="left2" class="arw" src="../img/left2.gif">
	<img id="left1" class="arw" src="../img/left1.gif">
	<img id="leftSens" class="arw" src="../img/emptyimage.gif"  onclick="clickArw('left')" alt="Pan left">
</div>

<div id="btRightCont" class="arwCont">
	<img id="right2" class="arw" src="../img/right2.gif">
	<img id="right1" class="arw" src="../img/right1.gif">
	<img id="rightSens" class="arw" src="../img/emptyimage.gif"  onclick="clickArw('right')" alt="Pan right">
</div>

<div id="btDownCont" class="arwCont">
	<img id="down2" class="arw" src="../img/down2.gif">
	<img id="down1" class="arw" src="../img/down1.gif">
	<img id="downSens" class="arw" src="../img/emptyimage.gif"  onclick="clickArw('down')" alt="Pan down">
</div>	

<div id="iconMobileCont">
	
	<img id="iconMobile2" class="iconMobile" src="../img/iconmobile2.gif" >
	<img id="iconMobile" class="iconMobile" src="../img/iconmobile.gif" >
	<img id="iconMobileSens" class="iconMobile hastooltip" src="../img/emptyimage.gif"  onclick="mobileOnOff()" >
	<div id="mobileHint" class="tooltip">View mobile &amp; tablet-friendly</div>
</div>

<!-- hidden stuff needed for system -->
<div id="hiddenLabel" class="label">TEST</div>

</body>

</html>
